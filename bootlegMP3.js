let songDatabase = {
    "Lycoris Recoil Main Theme": {
        "Album": "Lycoris Recoil",
        "URL": "https://drive.google.com/file/d/1TwhLgLPwLLadqsxBuVv9DC7L2CKhXszl/view?usp=share_link"
    },
    "Case Closed": {
        "Album": "Lycoris Recoil",
        "URL": "https://drive.google.com/file/d/1da6F4Rm5LfEBh3209M42hQn89Mtb5M-4/view?usp=share_link"
    },
    "Lycoris for Individuals": {
        "Album": "Lycoris Recoil",
        "URL": "https://drive.google.com/file/d/11jtsDBOZ0bntpFtIqOahLjO2vVorUxpb/view?usp=share_link"
    },
    "Momentary Rest": {
        "Album": "Lycoris Recoil",
        "URL": "https://drive.google.com/file/d/13WCANMj8CshQ0MQf00GdV8pjmOFPvpc3/view?usp=share_link"
    },
    "Love Live! Main Theme": {
        "Album": "Love Live! Superstar!!",
        "URL": "https://drive.google.com/file/d/1k-tBSgPXoVAvowdni6ZAJ5DxhPupSnoA/view?usp=share_link"
    },
    "始まりの瞬間": {
        "Album": "Love Live! Superstar!!",
        "URL": "https://drive.google.com/file/d/1YdxAsaEnhEWzb3UtXoVosbFQTinHYzQ1/view?usp=share_link"
    },
    "想いをカタチに": {
        "Album": "Love Live! Superstar!!",
        "URL": "https://drive.google.com/file/d/1rIslKmSHozEKJGbsNAwZ_XcqOe-QaVLa/view?usp=share_link"
    },
    "星の連なり": {
        "Album": "Love Live! Superstar!!",
        "URL": "https://drive.google.com/file/d/1x1t0wwJF9YcINJX__guMyW0qdWXLM312/view?usp=share_link"
    },
    "特訓スタート！": {
        "Album": "Love Live! Superstar!!",
        "URL": "https://drive.google.com/file/d/1UdG1Jd2wtHVh0PBt6xH2eglnClCRW5oP/view?usp=share_link"
    },
    "輝く気持ち": {
        "Album": "Love Live! Superstar!!",
        "URL": "https://drive.google.com/file/d/1Ah3aim46zSkGXUsouEWTv1V4krQ1Fxqq/view?usp=share_link"
    },
    "高まり" : {
        "Album": "Love Live! Superstar!!",
        "URL": "https://drive.google.com/file/d/1_O5MDMnMeSD_3d7b6vPAIJLTXTOTLdbY/view?usp=share_link"
    },
    "Calm and Healthy": {
        "Album": "Akebi's Sailor Uniform",
        "URL": "https://drive.google.com/file/d/1q0j_-b1MIXqbIgaYtHh2I5wMGmSF-t_X/view?usp=share_link"
    },
    "Exciting": {
        "Album": "Akebi's Sailor Uniform",
        "URL": "https://drive.google.com/file/d/11-futK-UWPkC1e9DXKYowG7bNaAGPyCZ/view?usp=share_link"
    },
    "Komichi's Theme": {
        "Album": "Akebi's Sailor Uniform",
        "URL": "https://drive.google.com/file/d/1dznRYVKRVMuEr3eQCtPH8iuaQ595lS52/view?usp=share_link"
    },
    "My First Sailor Uniform": {
        "Album": "Akebi's Sailor Uniform",
        "URL": "https://drive.google.com/file/d/1PP2Iw3gxB2h5FWOOMNgta43ntKdXWMtO/view?usp=share_link"
    },
    "Start Running, Komichi": {
        "Album": "Akebi's Sailor Uniform",
        "URL": "https://drive.google.com/file/d/1pTZFys6eSBIEWw9zD28nYgz3PtwtGJN8/view?usp=share_link"
    },
    "Friends": {
        "Album": "Akebi's Sailor Uniform",
        "URL": "https://drive.google.com/file/d/1aD7WsmxQvExEaAXaQVhw6qNDxqi9wBVs/view?usp=share_link"
    },
    "Kanojo mo Kanojo Main Theme": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/1M4FcyShNBf8xiX6ZnbJ6RG72QAmzokBs/view?usp=share_link"
    },
    "Accomplishment": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/1dCT7aiTO3mXFCJNk3U604RpvQ_dyqVz8/view?usp=share_link"
    },
    "Daydream": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/12k9TMXD-Q5FqjsD7jEvtlxHYgXEZfAAl/view?usp=share_link"
    },
    "Fluttering Heart": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/18Twhj3h31fCpNn6ZPqP2Mne_kacRaUz-/view?usp=share_link"
    },
    "Lovely Girls": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/1HG5zUayVePZpTlDFDRkoY8RrPGdYRRm7/view?usp=share_link"
    },
    "Please Go Out With Me!": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/17ev1ptpZa2MQuLr1Ip2gYGxdWEiZDaJX/view?usp=share_link"
    },
    "Spring Air": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/1bh4q8OSJeAWQTMkBGgEfIf9_mFfiLhOm/view?usp=share_link"
    },
    "Strong Will": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/1ZNCuxgkERyhBQBsu2V6nkEaUU3FMvA6j/view?usp=share_link"
    },
    "The End Of Love": {
        "Album": "Girlfriend, Girlfriend",
        "URL": "https://drive.google.com/file/d/1n0rzhXNxVVjXv5M2riATR5BOTMAGZ5kk/view?usp=share_link"
    },
    "あなたを待っています": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1vLmUWm1rGXmskW4qSH7IUAFEDHt0VFIy/view?usp=share_link"
    },
    "フータローを信じる": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1W2Isu_DOOpMf0PdqgGV6OsGCGP5VZW6y/view?usp=share_link"
    },
    "やるからには徹底的に": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1tLchSBG6JhuqTbdfkIZXkLPu9g3tQNVI/view?usp=share_link"
    },
    "五つ子ゲームファイナル": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/16B6vRejnTUw7apMibyRQ4j7-kYn_PxGh/view?usp=share_link"
    },
    "五等分": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1xjBo8aJLnWd7WlF0PA23b6EW3Id6GxCs/view?usp=share_link"
    },
    "何度も、何度も": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1D4Umc-3Qh8bwmKPWt4WBj2OFyerjOAxs/view?usp=share_link"
    },
    "変わらないみんな": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1OyVwPXhlTmVssr905XSgtejT04FAxfYV/view?usp=share_link"
    },
    "夢を見ていた": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1G1s_ucmZtggTh9H5-lJt2jqBFWmTaMKO/view?usp=share_link"
    },
    "思い出の場所": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1YDaXh4iJAq9hzr3l9OaRF8_--Zc0i_UW/view?usp=share_link"
    },
    "未来へ向かって": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1x0JouYJbWBntKKPttGU5Pxgiu2AmAVBP/view?usp=share_link"
    },
    "クリスマスの奇跡": {
        "Album": "Quintessential Quintuplets",
        "URL": "https://drive.google.com/file/d/1jEtmwulPGvh1s2-cYtoKZ_nnof11wYGi/view?usp=share_link"
    },
    "Makutosoke, Nothing to worry about": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-m4-aMxkpFpzZtsrrXXsQHAIi90Ld2s-/view?usp=share_link"
    },
    "A New Start": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1PptzrRwV2u_9eNwRBgM6E8GfVhygFugg/view?usp=share_link"
    },
    "Kukuru": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1Pn3A7TdWVG6w_EpUoNDzxTcojclmn89q/view?usp=share_link"
    },
    "Let Me Be Led": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1zMpHKwA7KVUTNPDWdqi5f84l0RZ2rtE7/view?usp=share_link"
    },
    "Aquatope": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-Cv6mEPJma1rJcN8KirwOyc4fAVCWl_2/view?usp=share_link"
    },
    "Acrylic Glass": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1e4e7h4FBFs_laRQbLPXDeDKzt357QKSD/view?usp=share_link"
    },
    "Recreation": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-FRXvV41maZHvOFhzk8dsqBWl6j0M1xY/view?usp=share_link"
    },
    "Because You're Here": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-DfPbTzMRPAKcfpwiO6xzmz_xwmSd-Wc/view?usp=share_link"
    },
    "Re_Start!": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-NxDhsfCp-8I6dH2NfS7M3sgmUM1tAyR/view?usp=share_link"
    },
    "Matching Key Chain": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-L58BTy7HZB7i4kUJN5WeMESxE1wOaWl/view?usp=share_link"
    },
    "Aqua Sphere": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-KKgZ5m7s6L6zpi2o4NT4BzqggnpIAmF/view?usp=share_link"
    },
    "Touch Pool": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-GLsMyU4HS7SOflGrbtv8c8IXYOEn4r8/view?usp=share_link"
    },
    "Aquarium Tingara": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-QG-nma25tvcRgKrtM74xopLxARwXKEM/view?usp=share_link"
    },
    "I'm Not Crying": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-PLveki3LexFIpYkBX60xOsuWGM9QAy5/view?usp=share_link"
    },
    "Natsuyasumi Kancho": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-VAsqWdvOD6gWQ4LT2wODRR_PhlUDer-/view?usp=share_link"
    },
    "The End and Beginning of a Dream": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-o-WiLynUBD9MfG5NNrMWQnGWabYHXLy/view?usp=share_link"
    },
    "A Fresh Start For The Two Of Us": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-j6YuGdjffabOpeeW4HS47FkHFI7TIxc/view?usp=share_link"
    },
    "First Penguin": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-Vqcgd2J6dXDDzQeco-TW-gttEA7hFRI/view?usp=share_link"
    },
    "To Protect A Dream": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-VhSOax_DBb2GV7HZTiduKW4YZmWdO0y/view?usp=share_link"
    },
    "Into The Future": {
        "Album": "The Aquatope on White Sand",
        "URL": "https://drive.google.com/file/d/1-ob53CU09NplM5hIEEYFS5PRtuYi_itG/view?usp=share_link"
    },
    "出会い": {
        "Album": "Tada Never Falls in Love",
        "URL": "https://drive.google.com/file/d/16bSmeDDz1Vah3be84K9PhZqzdTkVe6zm/view?usp=share_link"
    },
    "充実した時間": {
        "Album": "Tada Never Falls in Love",
        "URL": "https://drive.google.com/file/d/1jAWwjbWq704vi_3xPn3SJ0aBdhAJTcw5/view?usp=share_link"
    },
    "懐かしい思い出": {
        "Album": "Tada Never Falls in Love",
        "URL": "https://drive.google.com/file/d/1yb8dkww8OXds_8iCifxixLCjsq2vmsqX/view?usp=share_link"
    },
    "恋は秒": {
        "Album": "Tada Never Falls in Love",
        "URL": "https://drive.google.com/file/d/1-AxatlzO6mVaov62FPFiS-cPQtWpHrpk/view?usp=share_link"
    },
    "ダンスパーティ": {
        "Album": "Tada Never Falls in Love",
        "URL": "https://drive.google.com/file/d/11_CuqscG4kRlRF2g2QNf_z625ppwUF9L/view?usp=share_link"
    },
    "珈琲でもいかが": {
        "Album": "Tada Never Falls in Love",
        "URL": "https://drive.google.com/file/d/1x0c-RxIbZdx0FlqZEKd7-WUnht4AWiE6/view?usp=share_link"
    },
    "シャルルとテレサ": {
        "Album": "Tada Never Falls in Love",
        "URL": "https://drive.google.com/file/d/1OW2iOjTlhWIkFEm-GpuHOEIqKUAi-Dhb/view?usp=share_link"
    },
    "王子様の登場!": {
        "Album": "Tada Never Falls in Love",
        "URL": "https://drive.google.com/file/d/1z6qHv6-0cENcf1oyyJCx9_Lyt6m0KPP4/view?usp=share_link"
    },
    "Step for Joy": {
        "Album": "Bofuri",
        "URL": "https://drive.google.com/file/d/1H7PL49hwe5u9fxIhaulrMB6rVryMKYhW/view?usp=share_link"
    },
    "開け、冒険の扉": {
        "Album": "Bofuri",
        "URL": "https://drive.google.com/file/d/15GgL_d1LiBGpGRsh0eBwin9LHacfEAw2/view?usp=share_link"
    },
    "冒険は続く、みんなとともに": {
        "Album": "Bofuri",
        "URL": "https://drive.google.com/file/d/1r0jPgKuVQKDllg5PeKYvz8BeMprpH_gU/view?usp=share_link"
    },
    "メイプルのテーマ":{
        "Album": "Bofuri",
        "URL": "https://drive.google.com/file/d/1b8Dhl-tazL4TYpSRPg6af7qvoO_0iPWD/view?usp=share_link"
    },
    "楓の木" : {
        "Album": "Bofuri",
        "URL": "https://drive.google.com/file/d/117-ysWKmKbvjFbN1mDhVtdkSm-pSDPU1/view?usp=share_link"
    },
    "果てしない冒険の世界へ": {
        "Album": "Bofuri",
        "URL": "https://drive.google.com/file/d/1D6xBYbp3ptGTk6sMvDggv2TzaemsYAlO/view?usp=share_link"
    },
    "Angel's Theme":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/1WIJWya2_YUAplOQILKcW-OTtgUNwjH_I/view?usp=share_link"
    },
    "Angel's Gift":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/1MzAyGfEjCfb5_MsidMQBAoeKhf2yLE6W/view?usp=share_link"
    },
    "Sweet Smell":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/1A_FdxI7ZauG8q128bCa_cbcGdvLa55MQ/view?usp=share_link"
    },
    "Cooking":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/10wJYM7lUL_oyh9uH1OZJxr3Un_ndVBX-/view?usp=share_link"
    },
    "School":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/1xhVisixKwWI05_zMX-c_ooHa7KXPNssb/view?usp=share_link"
    },
    "Caramel Gaze":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/1Vhmv48UoRajIqgLx0W5-TVblEiDZHPJg/view?usp=share_link"
    },
    "Feeling Happy":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/12nDQdtwRy632FIGw5wi9_HkvfjUuugw2/view?usp=share_link"
    },
    "Please Watch More":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/1Y-cLdAIpn6mvVUaxuJbg-Pc_Da6wAgvB/view?usp=share_link"
    },
    "Amane, Baka":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/1xxJojEa3sTAxuvQGcJTdcJh4_ptFLFbs/view?usp=share_link"
    },
    "Taste of Happiness":{
        "Album": "The Angel Next Door",
        "URL": "https://drive.google.com/file/d/1EK5wwbes0NEaOH13AvolU9T1AGOYOzS5/view?usp=share_link"
    },
    "More Than Married Main Theme":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/1K23XKxn3mU1S2VwFBqpVEHTJh73mp38k/view?usp=share_link"
    },
    "Ahh":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/19BWaz1Ai_-vSx54R7FGc4Q5xuonfMTyK/view?usp=share_link"
    },
    "Cherry Blossoms at the Haiden":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/1Fa-NoOAT8ZPi2CmPluhf1Kx-sQGPaQax/view?usp=share_link"
    },
    "Doki Doki":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/16XRdLsBTvdIcLEKhhPw89mCAAogawB0b/view?usp=share_link"
    },
    "Neat Girl":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/1aqPsjxcKnaw5MIteEPtrY0eViLR70kiV/view?usp=share_link"
    },
    "Most Handsome":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/1fPivejyBsXr9hke73WGfXNIJWwGto84S/view?usp=share_link"
    },
    "Messy":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/1ViWK-HaRekXhvsxjtzoofkOhyTxDePcX/view?usp=share_link"
    },
    "Colorful Neo":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/1-C8wmIyyzO6CjEx3yWT_uiaoQDU9Zm5a/view?usp=share_link"
    },
    "Seishun Institue":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/18uoFnyS29QCt0v5w0MDtujtisTCiQ6zT/view?usp=share_link"
    },
    "Summer Ocean":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/13W36tIvre9syneLkXNDNl_6UXJ0T6-1T/view?usp=share_link"
    },
    "Aroma Candle":{
        "Album": "More Than Married",
        "URL": "https://drive.google.com/file/d/1eGdX1gTFlCw5T9nl0-gMC8mUdAMDJJsr/view?usp=share_link"
    },
    "Tomo-Chan - Sugary Mind":{
        "Album": "One Off",
        "URL": "https://drive.google.com/file/d/1Xo34cJZ-ruT_eOBtgbu_E04i7c1swrkY/view?usp=share_link"
    },
    "Horimiya - Route Sentimental":{
        "Album": "One Off",
        "URL": "https://drive.google.com/file/d/1q6GKHhdOWPECg0KuUmBvjKWvwSqpkaMP/view?usp=share_link"
    },

}

let currentSong = new Audio();
let shuffle = false;

(function init() {
    initNextButton();
    initPauseButton();
    initShuffleButton();
    initAlbumList();

    currentSong.addEventListener("ended", function() {
        next();
    });
    
})();

////////////////////////// INIT ///////////////////////////

/**
 * @since Feb 22, 2023
 * @summary INIT Next Button
 */
function initNextButton() {
    let nextButton = document.createElement("img");
    nextButton.src="https://img.icons8.com/external-neu-royyan-wijaya/128/null/external-continue-neu-music-neu-royyan-wijaya.png";
    nextButton.style="width:30px;height:30px;"
    nextButton.style.cursor = "pointer";
    nextButton.onclick = function() {
        next();
    }
    document.getElementById("controlPanel").appendChild(nextButton);
}

/**
 * @since Feb 22, 2023
 * @summary INIT Pause Button
 */
function initPauseButton() {
    let pauseButton = document.createElement("img");
    pauseButton.src="https://img.icons8.com/external-neu-royyan-wijaya/128/null/external-music-neu-music-neu-royyan-wijaya-3.png";
    pauseButton.style="width:30px;height:30px;"
    pauseButton.style.cursor = "pointer";
    pauseButton.onclick = function() {
        if (currentSong.paused) {
            console.log("Playing")
            currentSong.play();
            pauseButton.src="https://img.icons8.com/external-neu-royyan-wijaya/128/null/external-music-neu-music-neu-royyan-wijaya-3.png";
        } else {
            console.log("Pausing")
            currentSong.pause();
            pauseButton.src="https://img.icons8.com/external-neu-royyan-wijaya/128/null/external-media-neu-music-neu-royyan-wijaya.png";
        }
    }
    document.getElementById("controlPanel").appendChild(pauseButton);
}

/**
 * @since Feb 22, 2023
 * @summary INIT Shuffle Button
 */
function initShuffleButton() {
    let shuffleButton = document.createElement("img");
    shuffleButton.src="https://img.icons8.com/material-outlined/96/null/shuffle.png";
    shuffleButton.style="width:30px;height:30px;"
    shuffleButton.style.cursor = "pointer";
    shuffleButton.onclick = function() {
        if (shuffle) {
            shuffle = false;
            shuffleButton.src="https://img.icons8.com/material-outlined/96/null/shuffle.png";
        } else {
            shuffle = true;
            shuffleButton.src="./shuffle.png";
        }
    }
    document.getElementById("controlPanel").appendChild(shuffleButton);
}

/**
 * @since Feb 22, 2023
 * @summary INIT Album List
 * @description In detail: This function first creates a list of all the albums in the songDatabase. It then parses through each album
 * and generates a div called albumWrapper. Within this albumWrapper, there is a span called albumTitle and a ul called albumDiv. The ul 
 * contains all the different sings within the album. When the user clicks on the span, the albumDiv will be hidden or shown.
 */
function initAlbumList() {
    let albumList = [];
    for (let song in songDatabase) {
        if (!albumList.includes(songDatabase[song].Album)) {
            albumList.push(songDatabase[song].Album);
        }
    }

    for (let album in albumList) {
        let albumWrapper = document.createElement("div");
    
        let albumTitle = document.createElement("span");
        albumTitle.innerHTML = albumList[album];
        albumTitle.style.cursor = "pointer";
        albumTitle.style.fontWeight = "bold";

        albumWrapper.appendChild(albumTitle);
    
        let albumDiv = document.createElement("ul");
        
        for (let song in songDatabase) {
            if (songDatabase[song].Album === albumList[album]) {
                let songDiv = document.createElement("li");
                songDiv.innerHTML = song;
                songDiv.style.cursor = "pointer"; //Give the buttons a cursor
                songDiv.style.display = "inline-block"; //Make the buttons inline and only as long as the text
                songDiv.style.listStyleType = "none"; //Remove the bullet points
                songDiv.style.padding = "5px";
                songDiv.style.borderRadius = "5px";
                songDiv.style.margin = "5px";
                songDiv.style.backgroundColor = "white";
                songDiv.style.color = "black";
                songDiv.style.cursor = "pointer";
                songDiv.style.transition = "all 0.2s ease-in-out";
                songDiv.onmouseover = function() {
                    songDiv.style.backgroundColor = "darkslategrey";
                    songDiv.style.color = "white";
                }
                songDiv.onmouseout = function() {
                    songDiv.style.backgroundColor = "white";
                    songDiv.style.color = "black";
                }

                songDiv.onclick = function() {
                    currentSong.src = URLParser(songDatabase[song].URL);
                    currentSong.play();
                    updateStatusBar();
                }
                albumDiv.appendChild(songDiv);
            }
        }
        albumTitle.onclick = function() {
            if (albumDiv.style.display === "none") {
                albumDiv.style.display = "block";
            } else {
                albumDiv.style.display = "none";
            }
        }
        albumWrapper.appendChild(albumDiv);
        document.getElementById("songList").appendChild(albumWrapper);
    }
}

//////////////////////// UTILITIES ////////////////////////

/**
 * @since Feb 22, 2023
 * @summary Take in a URL and remove the text "/view?usp=share_link" entirely and replace the text "file/d/" with "uc?id="
 * @input {string} url - The URL to be parsed
 * @returns {string} parsedURL - The parsed URL
 */
function URLParser(url) { 
    let parsedURL = url.replace("/view?usp=share_link", "");
    parsedURL = parsedURL.replace("file/d/", "uc?id=");
    return parsedURL;
}

/**
 * @since Feb 22, 2023
 * @summary Take in a URL and add the text "/view?usp=share_link" to the end of the URL and replace the text "uc?id=" with "file/d/"
 * @input {string} url - The URL to be de-parsed
 * @returns {string} parsedURL - The de-parsed URL
 */
function URLDeParser(url) {
    let parsedURL = url.replace("uc?id=", "file/d/");
    parsedURL = parsedURL + "/view?usp=share_link";
    return parsedURL;
}

/**
 * @since Feb 22, 2023
 * @summary Go through the songDatabase and return the song name given the URL. Assumes the URL is deparsed
 * @input {string} url - The deparsed URL 
 * @returns {string} The name of the song
 */
function getSongName(url) {
    for (let song in songDatabase) {
        if (songDatabase[song].URL === url) {
            return song;
        }
    }
}

/**
 * @since Feb 22, 2023
 * @summary Create a status bar at the top of the page that displays the name of the current song and the current time of the song.
 * @input Nothing
 * @returns {string} Nothing
 */
function updateStatusBar() {
    let songName = getSongName(URLDeParser(currentSong.src));
    document.getElementById("statusBar").innerHTML = "<b>" + songDatabase[songName].Album + "</b>" + " - " + songName;

};

/**
 * @since Feb 22, 2023
 * @summary Play the next song - shuffled or not shuffled
 * @description In detail: If shuffle is on, next song is random. Otherwise, next song in database. 
 * This is done by grabbing the keys for the songDatabase and calling getSongName on the currentSong.src
 * which retrieve the key of the current song given it's URL. 
 */
function next() {
    console.log("Next")
    let songListKeys = Object.keys(songDatabase);
    let currentSongIndex = songListKeys.indexOf(getSongName(URLDeParser(currentSong.src)));
    switch(shuffle) {
        case true:
            currentSongIndex = Math.floor(Math.random() * songListKeys.length);
        break;
        case false:
            if (currentSongIndex === songListKeys.length - 1) {
                currentSongIndex = 0;
            } else {
                currentSongIndex++;
            }
        break;
    }
    currentSong.src = URLParser(songDatabase[songListKeys[currentSongIndex]].URL);
    currentSong.play();
    updateStatusBar();
}
